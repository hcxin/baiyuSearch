(function(a){var b={firstAdviseTags:[],secondAdviseTags:[],rotateX:false,rotateY:true,refreshClick:function(){},tagClick:function(){}};a.extend({baiyuSearch:function(e){var e=a.extend(b,e);a("#searchInput").focus(function(){a("#searchMenu").show()}).blur(function(){a("#searchMenu").hide()});a("#refreshContainer").click(function(){e.refreshClick(c)});function f(j){var g,i,h=j.length;if(h){while(--h){i=Math.floor(Math.random()*(h+1));g=j[i];j[i]=j[h];j[h]=g}}return j}var d=0;var c=function(i,g){if(i&&i.length>0){e.firstAdviseTags=i}if(g&&g.length>0){e.secondAdviseTags=g}d=d+360;a("#refreshIcon").css("transform","rotate("+d+"deg)");var h=0;a("#first-advise-container").empty();a.each(e.firstAdviseTags,function(k,m){var l=a("#advise-tag-template").clone();l.text(m);l.mouseover(function(){a(this).addClass("advise-tag-highlight");if(e.rotateX){h=h+360;a(this).css("transform","rotateX("+h+"deg)")}if(e.rotateY){h=h+360;a(this).css("transform","rotateY("+h+"deg)")}if(e.rotateX&&e.rotateY){h=h+360;a(this).css("transform","rotateZ("+h+"deg)")}}).mouseout(function(){a(this).removeClass("advise-tag-highlight");a(this).addClass("advise-tag-highlight-reset")}).click(function(){e.tagClick(a(this).text())});a("#first-advise-container").append(l);l.show()});var j=0;a("#second-advise-container").empty();a.each(e.secondAdviseTags,function(k,m){var l=a("#advise-tag-template").clone();l.text(m);l.mouseover(function(){a(this).addClass("advise-tag-highlight");if(e.rotateX){j=j+360;a(this).css("transform","rotateX("+j+"deg)")}if(e.rotateY){j=j+360;a(this).css("transform","rotateY("+j+"deg)")}if(e.rotateX&&e.rotateY){j=j+360;a(this).css("transform","rotateZ("+j+"deg)")}}).mouseout(function(){a(this).removeClass("advise-tag-highlight");a(this).addClass("advise-tag-highlight-reset")}).click(function(){e.tagClick(a(this).text())});a("#second-advise-container").append(l);l.show()})};c()}})})(jQuery);